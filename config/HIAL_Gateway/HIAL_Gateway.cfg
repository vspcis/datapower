top; configure terminal;

# configuration generated Wed Feb 14 11:31:42 2018; firmware version 294196

%if% available "domain-settings"

domain-settings
  admin-state enabled
  password-treatment masked
exit

%endif%

crypto
  certificate "bluewaterhealth.node1-cert" "local:///_cert/BLUEWATERHEALTH.NODE1_DirectConsumer_DIT.cert"
exit

crypto
  certificate "DTE_issuer.cert" "local:///_cert/DTE.crt"
exit

crypto
  certificate "wsgateway.cert" "local:///_cert/wsgateway.crt"
exit

crypto
  key "wsgateway.key" "local:///_cert/wsgateway.key"
exit

crypto
  idcred "GateWay_Identification" "wsgateway.key" "wsgateway.cert"
exit

crypto
  valcred "Gateway_Validation"
    certificate "DTE_issuer.cert"
    certificate "bluewaterhealth.node1-cert"
    cert-validation-mode "legacy"
    use-crl "on"
    require-crl "off"
    crldp "ignore"
    initial-policy-set "2.5.29.32.0"
    explicit-policy "off"
    check-dates "on"
  exit
exit

crypto
  profile "CacheIntialization_MPG-profile" "GateWay_Identification" option-string OpenSSL-default+Disable-SSLv2 ciphers "HIGH:MEDIUM:!aNULL:!eNULL:!RC4:@STRENGTH" clientcalist off
exit

crypto
  profile "Mutual_SSL_Crypto_Profile" "GateWay_Identification" option-string OpenSSL-default+Disable-SSLv2 ssl Gateway_Validation ciphers "HIGH:MEDIUM:!aNULL:!eNULL:!RC4:@STRENGTH" clientcalist off
exit

crypto
  profile "OneWay_SSL_Crypto_Profile" "GateWay_Identification" option-string OpenSSL-default+Disable-SSLv2 ciphers "HIGH:MEDIUM:!aNULL:!eNULL:!RC4:@STRENGTH" clientcalist off
exit

sslproxy "CacheInitialization_MPG-ssl" "forward" "CacheIntialization_MPG-profile" client-cache "on" client-sess-timeout "300" client-cache-size "100"

sslproxy "Mutual_SSL_ProxyProfile" "reverse" "Mutual_SSL_Crypto_Profile" sess-timeout "300" cache-size "20"

sslproxy "OneWay_SSL_ProxyProfile" "reverse" "OneWay_SSL_Crypto_Profile" sess-timeout "300" cache-size "20" client-auth-optional on
logging event default-log "all" "error"
logging event default-log "mgmt" "notice"

%if% available "loadbalancer-group"

loadbalancer-group "SUBSCRIBERS_AD_GRP"
  summary "Subscribers AD Group"
  algorithm first-alive
  no retrieve-wlm-info 
  wlm-type use-websphere
  wlm-transport http
  damp 120
  no giveup-when-all-members-down 
  server "10.69.0.152" "1" "389" "" "389" "enabled"
  server "10.69.0.153" "2" "389" "" "389" "enabled"
  no try-every-server 
  health-check
    admin-state 
    target-uri "/"
    target-port 389
    type LDAP
    use-soap 
    send-soap "store:///healthcheck.xml"
    timeout 10
    frequency 180
    xpath "/"
    filter "store:///healthcheck.xsl"
    no enforce-timeout 
    no independent-checks 
    no gatewayscript-checks 
    request-method GET
    request-doc "store:///healthcheck.json"
    request-content-type "application/json"
    response-evaluator store:///healthcheck.js
    tcp-conn-type Full
    ssl-client-type proxy
  exit
  no masquerade 
  no appl-routing 
  session-affinity
    enable-affinity 
    i-cookie-name "DPJSESSIONID"
    i-path "/"
    i-domain ".datapower.com"
    no override-wlm-affinity 
    affinity-mode activeConditional
    i-cookie-attributes "" 
  exit
exit

%endif%

user-agent "default"
  summary "Default User Agent"
  max-redirects 8
  timeout 300
exit

%if% available "message-matching"

message-matching "messagematchingobj"
  method any
  request-url "*"
exit

%endif%

%if% available "message-type"

message-type "messagetypeobj"
  message-matching messagematchingobj
exit

%endif%

%if% available "monitor-count"

monitor-count "messagecountobj"
  message-type messagetypeobj
  measure requests
  source all
  header "X-Client-IP"
  distinct-sources 10000
exit

%endif%

%if% available "urlmap"

urlmap "default-attempt-stream-all"
  match "*"
exit

%endif%

%if% available "compile-options"

compile-options "default-attempt-stream"
  xslt-version XSLT10
  no strict 
  try-stream default-attempt-stream-all
  stack-size 524288
  wsi-validate ignore
  wsdl-validate-body strict
  wsdl-validate-headers lax
  wsdl-validate-faults strict
  no wsdl-wrapped-faults 
  no wsdl-strict-soap-version 
  no xacml-debug 
exit

%endif%

action "Common_Processing_Error_Rule_conditional_0"
  reset
  type conditional
  input "PIPE"
  parse-settings-result-type none
  transform-language none
  named-inouts default
  ssl-client-type proxy
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  condition "/*[local-name()='LoggingTransientData'][normalize-space(.) = 'true']" "Common_Processing_Error_Rule_conditional_0_refaction_results_0"
  condition "/*[local-name()='LoggingTransientData'][normalize-space(.) = 'false']" "Common_Processing_Error_Rule_conditional_0_refaction_xform_0"
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Error_Rule_conditional_0_refaction_results_0"
  reset
  type results
  input "syslogContent"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  destination "syslog-tcp://10.69.5.139:13516"
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Error_Rule_conditional_0_refaction_xform_0"
  reset
  type xform
  input "INPUT"
  transform "local:///Framework/ProcessingFlow/PassThrough.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Error_Rule_results_output_0"
  reset
  type results
  input "ErrorResponse"
  parse-settings-result-type none
  transform-language none
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Error_Rule_xform_28"
  reset
  type xform
  input "PIPE"
  transform "local:///Framework/ProcessingFlow/CommonPEP.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  parameter "{http://www.datapower.com/param/config}PEPName" "SOAPFaultProcessing"
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Error_Rule_xform_36"
  reset
  type xform
  input "INPUT"
  transform "var://context/hialPEP/TransformAction"
  parse-settings-result-type none
  transform-language none
  output "ErrorResponse"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Error_Rule_xform_37"
  reset
  type xform
  input "ErrorResponse"
  transform "local:///Framework/ProcessingFlow/CommonPEP.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  parameter "{http://www.datapower.com/param/config}PEPName" "GWLogErrorRule"
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Error_Rule_xform_38"
  reset
  type xform
  input "INPUT"
  transform "var://context/hialPEP/TransformAction"
  parse-settings-result-type none
  transform-language none
  output "PIPE"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Error_Rule_xform_48"
  reset
  type xform
  input "NULL"
  transform "local:///Framework/ProcessingFlow/CommonPEP.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  parameter "{http://www.datapower.com/param/config}PEPName" "FMBLGatewayError"
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Error_Rule_xform_49"
  reset
  type xform
  input "ErrorResponse"
  transform "var://context/hialPEP/TransformAction"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Error_Rule_xform_52"
  reset
  type xform
  input "INPUT"
  transform "local:///CommonTechnicalServices/APM/apm_error.xsl"
  parse-settings-result-type none
  transform-language none
  output "PIPE"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_conditional_0"
  reset
  type conditional
  input "PIPE"
  parse-settings-result-type none
  transform-language none
  named-inouts default
  ssl-client-type proxy
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  condition "/*[local-name()='AAAType']/*[local-name()='Action' and @*[local-name()='name' and normalize-space(.) = 'AD_SSL_AAA']]" "Common_Processing_Request_Rule_conditional_0_refaction_aaa_0"
  condition "/*[local-name()='AAAType']/*[local-name()='Action' and @*[local-name()='name' and normalize-space(.) = 'STS_PDP_AAA']]" "Common_Processing_Request_Rule_conditional_0_refaction_aaa_1"
  condition "/*[local-name()='AAAType']/*[local-name()='Action' and @*[local-name()='name' and normalize-space(.) = 'PDP_AAA']]" "Common_Processing_Request_Rule_conditional_0_refaction_aaa_2"
  condition "/*[local-name()='AAAType']/*[local-name()='Action' and @*[local-name()='name' and normalize-space(.) = 'AD_SAML_AAA']]" "Common_Processing_Request_Rule_conditional_0_refaction_aaa_3"
  condition "/*[local-name()='AAAType']/*[local-name()='Action' and @*[local-name()='name' and normalize-space(.) = 'TWO_PDP_AAA']]" "Common_Processing_Request_Rule_conditional_0_refaction_aaa_4"
  condition "/*[local-name()='AAAType']/*[local-name()='Action' and @*[local-name()='name' and normalize-space(.) = 'NO_AAA']]" "Common_Processing_Request_Rule_conditional_0_refaction_xform_0"
  condition "/*[local-name()='AAAType']/*[local-name()='Action' and @*[local-name()='name' and normalize-space(.) = 'CONSUMER_SYSTEM_AAA']]" "Common_Processing_Request_Rule_conditional_0_refaction_aaa_5"
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_conditional_0_refaction_aaa_0"
  reset
  type aaa
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  output "dpvar_1"
  named-inouts default
  aaa-policy AD_SSL_AAA_Policy
  ssl-client-type proxy
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_conditional_0_refaction_aaa_1"
  reset
  type aaa
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  output "dpvar_1"
  named-inouts default
  aaa-policy STS_PDP_AAA_Policy
  ssl-client-type proxy
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_conditional_0_refaction_aaa_2"
  reset
  type aaa
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  output "dpvar_1"
  named-inouts default
  aaa-policy PDP_AAA_Policy
  ssl-client-type proxy
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_conditional_0_refaction_aaa_3"
  reset
  type aaa
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  output "dpvar_1"
  named-inouts default
  aaa-policy AD_SAML_AAA_Policy
  ssl-client-type proxy
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_conditional_0_refaction_aaa_4"
  reset
  type aaa
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  output "dpvar_1"
  named-inouts default
  aaa-policy TWO_PDP_AAA_Policy
  ssl-client-type proxy
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_conditional_0_refaction_aaa_5"
  reset
  type aaa
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  output "dpvar_1"
  named-inouts default
  aaa-policy CONSUMER_SYSTEM_AAA_Policy
  ssl-client-type proxy
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_conditional_0_refaction_xform_0"
  reset
  type xform
  input "PIPE"
  transform "local:///Framework/ProcessingFlow/PassThrough.xsl"
  parse-settings-result-type none
  transform-language none
  output "dpvar_1"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_results_output_0"
  reset
  type results
  input "PIPE"
  parse-settings-result-type none
  transform-language none
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 3
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_xform_10"
  reset
  type xform
  input "dpvar_1"
  transform "local:///Framework/ProcessingFlow/CommonPEP.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  parameter "{http://www.datapower.com/param/config}PEPName" "FMBLGatewayRequest"
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_xform_11"
  reset
  type xform
  input "INPUT"
  transform "var://context/hialPEP/TransformAction"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_xform_12"
  reset
  type xform
  input "WsrrEndPointResult"
  transform "local:///Framework/ProcessingFlow/TransactionRouting.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_xform_13"
  reset
  type xform
  input "TransformedOutput"
  transform "local:///Framework/ProcessingFlow/UpdateTransiantData.xsl"
  parse-settings-result-type none
  transform-language none
  output "PIPE"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_xform_14"
  reset
  type xform
  input "INPUT"
  transform "local:///Framework/ProcessingFlow/ReplaceSamlToken.xsl"
  parse-settings-result-type none
  transform-language none
  output "TransformedOutput"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_xform_16"
  reset
  type xform
  input "INPUT"
  transform "local:///CommonTechnicalServices/APM/apm_req.xsl"
  parse-settings-result-type none
  transform-language none
  output "PIPE"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_xform_2"
  reset
  type xform
  input "PIPE"
  transform "local:///Framework/ProcessingFlow/InitTransactionData.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_xform_5"
  reset
  type xform
  input "INPUT"
  transform "local:///Framework/ProcessingFlow/CommonPEP.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  parameter "{http://www.datapower.com/param/config}PEPName" "Antivirus"
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_xform_6"
  reset
  type xform
  input "INPUT"
  transform "var://context/hialPEP/TransformAction"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_xform_7"
  reset
  type xform
  input "INPUT"
  transform "local:///Framework/ProcessingFlow/CommonPEP.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  parameter "{http://www.datapower.com/param/config}PEPName" "TLMRequestValidation"
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_xform_8"
  reset
  type xform
  input "INPUT"
  transform "var://context/hialPEP/TransformAction"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Request_Rule_xform_9"
  reset
  type xform
  input "INPUT"
  transform "local:///Framework/ProcessingFlow/CommonPEP.xsl"
  parse-settings-result-type none
  transform-language none
  output "PIPE"
  named-inouts default
  ssl-client-type proxy
  parameter "{http://www.datapower.com/param/config}PEPName" "AAAGateway"
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Response_Rule_conditional_0"
  reset
  type conditional
  input "PIPE"
  parse-settings-result-type none
  transform-language none
  named-inouts default
  ssl-client-type proxy
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  condition "/*[local-name()='LoggingTransientData'][normalize-space(.) = 'true']" "Common_Processing_Response_Rule_conditional_0_refaction_results_0"
  condition "/*[local-name()='LoggingTransientData'][normalize-space(.) = 'false']" "Common_Processing_Response_Rule_conditional_0_refaction_xform_0"
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Response_Rule_conditional_0_refaction_results_0"
  reset
  type results
  input "syslogContent"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  destination "syslog-tcp://10.69.5.139:13516"
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Response_Rule_conditional_0_refaction_xform_0"
  reset
  type xform
  input "PIPE"
  transform "local:///Framework/ProcessingFlow/PassThrough.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Response_Rule_results_output_0"
  reset
  type results
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Response_Rule_xform_15"
  reset
  type xform
  input "INPUT"
  transform "local:///Framework/ProcessingFlow/CommonPEP.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  parameter "{http://www.datapower.com/param/config}PEPName" "FMBLGatewayResponse"
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Response_Rule_xform_16"
  reset
  type xform
  input "INPUT"
  transform "var://context/hialPEP/TransformAction"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Response_Rule_xform_17"
  reset
  type xform
  input "INPUT"
  transform "local:///Framework/ProcessingFlow/CommonPEP.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  parameter "{http://www.datapower.com/param/config}PEPName" "GWLogResponseRule"
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Response_Rule_xform_20"
  reset
  type xform
  input "INPUT"
  transform "var://context/hialPEP/TransformAction"
  parse-settings-result-type none
  transform-language none
  output "PIPE"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Response_Rule_xform_21"
  reset
  type xform
  input "PIPE"
  transform "local:///Framework/ProcessingFlow/ValidateResponse.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Common_Processing_Response_Rule_xform_26"
  reset
  type xform
  input "INPUT"
  transform "local:///CommonTechnicalServices/APM/apm_rsp.xsl"
  parse-settings-result-type none
  transform-language none
  output "PIPE"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Initialization_Pattern_rule_0_results_output_0"
  reset
  type results
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Initialization_Pattern_rule_0_setvar_0"
  reset
  type setvar
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  named-inouts default
  variable "var://service/mpgw/skip-backside"
  value "1"
  ssl-client-type proxy
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Initialization_Pattern_rule_0_xformpi_0"
  reset
  type xformpi
  input "INPUT"
  transform "local:///CommonTechnicalServices/GatewayCache/Initialization_Pattern/MessageDispatcher.xsl"
  parse-settings-result-type none
  transform-language none
  output "dpvar_1"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Initialization_Pattern_rule_1_results_1"
  reset
  type results
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Initialization_Pattern_Scheduled_Tx"
  reset
  type xform
  input "INPUT"
  transform "local://CommonTechnicalServices/GatewayCache/Scheduled_Processing_Rule/CacheTriggerService.xsl"
  parse-settings-result-type none
  input-language json
  transform-language xquery
  tx-mode default
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Initialization_Pattern_WSRRProxyRequest_rule_results_6"
  reset
  type results
  input "PIPE"
  parse-settings-result-type none
  transform-language none
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 3
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited GET
  http-method-limited2 POST
exit

action "Initialization_Pattern_WSRRProxyRequest_rule_xform_1"
  reset
  type xform
  input "INPUT"
  transform "local:///CommonTechnicalServices/GatewayCache/Initialization_Pattern/WSRRInternalProxyGateway.xsl"
  parse-settings-result-type none
  transform-language none
  output "PIPE"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Initialization_Pattern_WSRRProxyResponse_rule_results_7"
  reset
  type results
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "PASSWORD_ENCRIPTION_XFW_Policy_rule_xform_0"
  reset
  type xform
  input "INPUT"
  transform "local:///InternalServices/EncryptionService/aaa-password-encryption.xslt"
  parse-settings-result-type none
  transform-language none
  output "OUTPUT"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "UR5_BKBN_WSP_default_error-rule_results_2"
  reset
  type results
  input "PIPE"
  parse-settings-result-type none
  transform-language none
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "UR5_BKBN_WSP_default_error-rule_xform_2"
  reset
  type xform
  input "INPUT"
  transform "local:///UR/v03/Transformations/ur-log-error.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "UR5_BKBN_WSP_default_error-rule_xform_3"
  reset
  type xform
  input "INPUT"
  transform "local:///UR/v03/Transformations/ur-response-error.xsl"
  parse-settings-result-type none
  transform-language none
  output "PIPE"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "UR5_BKBN_WSP_default_response-rule_results_1"
  reset
  type results
  input "PIPE"
  parse-settings-result-type none
  transform-language none
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "UR5_BKBN_WSP_default_response-rule_xform_1"
  reset
  type xform
  input "INPUT"
  transform "local:///UR/v03/Transformations/ur-response-validation.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "UR5_BKBN_WSP_default_response-rule_xform_2"
  reset
  type xform
  input "INPUT"
  transform "local:///UR/v03/Transformations/ur-log-transaction.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "UR5_BKBN_WSP_default_response-rule_xform_21"
  reset
  type xform
  input "INPUT"
  transform "local:///UR/v03/Transformations/UR5ResponseTransform.xsl"
  parse-settings-result-type none
  transform-language none
  output "PIPE"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "UR5_BKBN_WSP_PDP_request-rule_results_3"
  reset
  type results
  input "PIPE"
  parse-settings-result-type none
  transform-language none
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "UR5_BKBN_WSP_PDP_request-rule_xform_10"
  reset
  type xform
  input "INPUT"
  transform "local:///UR/v03/Transformations/UR5RequestTransform.xsl"
  parse-settings-result-type none
  transform-language none
  output "PIPE"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "UR5_BKBN_WSP_PDP_request-rule_xform_9"
  reset
  type xform
  input "INPUT"
  transform "local:///UR/v03/Transformations/ur-request-save-properties.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "UR5_BKBN_WSP_STS_request-rule_results_2"
  reset
  type results
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "UR5_BKBN_WSP_STS_request-rule_xform_8"
  reset
  type xform
  input "INPUT"
  transform "local:///UR/v03/Transformations/ur-request-save-properties.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

rule "Initialization_Pattern_rule_0"
  reset
  type request-rule
  input-filter none
  output-filter none
  no non-xml-processing 
  no unprocessed 
    action "Initialization_Pattern_rule_0_xformpi_0"
    action "Initialization_Pattern_rule_0_setvar_0"
    action "Initialization_Pattern_rule_0_results_output_0"
exit

rule "Initialization_Pattern_rule_1"
  reset
  type error-rule
  input-filter none
  output-filter none
  no non-xml-processing 
  no unprocessed 
    action "Initialization_Pattern_rule_1_results_1"
exit

rule "Initialization_Pattern_Scheduled_rule"
  reset
  type request-rule
  input-filter none
  output-filter none
  no non-xml-processing 
  no unprocessed 
    action "Initialization_Pattern_Scheduled_Tx"
exit

rule "Initialization_Pattern_WSRRProxyRequest_rule"
  reset
  type request-rule
  input-filter none
  output-filter none
  no non-xml-processing 
  no unprocessed 
    action "Initialization_Pattern_WSRRProxyRequest_rule_xform_1"
    action "Initialization_Pattern_WSRRProxyRequest_rule_results_6"
exit

rule "Initialization_Pattern_WSRRProxyResponse_rule"
  reset
  type response-rule
  input-filter none
  output-filter none
  no non-xml-processing 
  no unprocessed 
    action "Initialization_Pattern_WSRRProxyResponse_rule_results_7"
exit

rule "PASSWORD_ENCRIPTION_XFW_Policy_rule"
  reset
  type request-rule
  input-filter none
  output-filter none
  no non-xml-processing 
  no unprocessed 
    action "PASSWORD_ENCRIPTION_XFW_Policy_rule_xform_0"
exit

matching "CacheMatchingRule"
  urlmatch "*"
  no match-with-pcre 
  no combine-with-or 
exit

matching "Common_Gateway_Match_All"
  urlmatch "*"
  no match-with-pcre 
  no combine-with-or 
exit

matching "Initialization_Pattern_Match_WSRR_Proxy"
  summary "Matching rule for WSRR Proxy used by common policy"
  urlmatch "/WSRR/*/Metadata/XML/*"
  no match-with-pcre 
  no combine-with-or 
exit

matching "PASSWORD_ENCRIPTION_XFW_match_all"
  urlmatch "/"
  no match-with-pcre 
  no combine-with-or 
exit

matching "UR5.0_BKBN_WSP_Match_PDP"
  urlmatch "/backbone/UR5/PDP"
  no match-with-pcre 
  no combine-with-or 
exit

matching "UR5.0_BKBN_WSP_Match_STS"
  urlmatch "/backbone/UR5/STS"
  no match-with-pcre 
  no combine-with-or 
exit

matching "UR5_BKBN_WSP_match_all"
  urlmatch "*"
  no match-with-pcre 
  no combine-with-or 
exit

stylepolicy "default"
  reset
  summary "Default Processing Policy"
  filter "store:///filter-reject-all.xsl"
  xsldefault "store:///identity.xsl"
  xquerydefault "store:///reject-all-json.xq"
exit

stylepolicy "Initialization_Pattern"
  reset
  filter "store:///filter-reject-all.xsl"
  xsldefault "store:///identity.xsl"
  xquerydefault "store:///reject-all-json.xq"
  match "Initialization_Pattern_Match_WSRR_Proxy" "Initialization_Pattern_WSRRProxyRequest_rule"
  match "CacheMatchingRule" "Initialization_Pattern_rule_0"
  match "Initialization_Pattern_Match_WSRR_Proxy" "Initialization_Pattern_WSRRProxyResponse_rule"
  match "CacheMatchingRule" "Initialization_Pattern_rule_1"
exit

stylepolicy "PASSWORD_ENCRIPTION_XFW_Policy"
  reset
  filter "store:///filter-reject-all.xsl"
  xsldefault "store:///identity.xsl"
  xquerydefault "store:///reject-all-json.xq"
  match "PASSWORD_ENCRIPTION_XFW_match_all" "PASSWORD_ENCRIPTION_XFW_Policy_rule"
exit

%if% available "wsm-rule"

wsm-rule "Common_Processing_Error_Rule"
  type error-rule
  input-filter none
  output-filter none
  no non-xml-processing 
  no unprocessed 
  action Common_Processing_Error_Rule_xform_52
  action Common_Processing_Error_Rule_xform_28
  action Common_Processing_Error_Rule_xform_36
  action Common_Processing_Error_Rule_xform_48
  action Common_Processing_Error_Rule_xform_49
  action Common_Processing_Error_Rule_xform_37
  action Common_Processing_Error_Rule_xform_38
  action Common_Processing_Error_Rule_conditional_0
  action Common_Processing_Error_Rule_results_output_0
exit

wsm-rule "Common_Processing_Request_Rule"
  type request-rule
  input-filter none
  output-filter none
  no non-xml-processing 
  no unprocessed 
  action Common_Processing_Request_Rule_xform_16
  action Common_Processing_Request_Rule_xform_2
  action Common_Processing_Request_Rule_xform_5
  action Common_Processing_Request_Rule_xform_6
  action Common_Processing_Request_Rule_xform_7
  action Common_Processing_Request_Rule_xform_8
  action Common_Processing_Request_Rule_xform_9
  action Common_Processing_Request_Rule_conditional_0
  action Common_Processing_Request_Rule_xform_10
  action Common_Processing_Request_Rule_xform_11
  action Common_Processing_Request_Rule_xform_12
  action Common_Processing_Request_Rule_xform_14
  action Common_Processing_Request_Rule_xform_13
  action Common_Processing_Request_Rule_results_output_0
exit

wsm-rule "Common_Processing_Response_Rule"
  type response-rule
  input-filter none
  output-filter none
  no non-xml-processing 
  no unprocessed 
  action Common_Processing_Response_Rule_xform_26
  action Common_Processing_Response_Rule_xform_21
  action Common_Processing_Response_Rule_xform_15
  action Common_Processing_Response_Rule_xform_16
  action Common_Processing_Response_Rule_xform_17
  action Common_Processing_Response_Rule_xform_20
  action Common_Processing_Response_Rule_conditional_0
  action Common_Processing_Response_Rule_results_output_0
exit

wsm-rule "UR5_BKBN_WSP_default_error-rule"
  type error-rule
  input-filter none
  output-filter none
  no non-xml-processing 
  no unprocessed 
  action UR5_BKBN_WSP_default_error-rule_xform_2
  action UR5_BKBN_WSP_default_error-rule_xform_3
  action UR5_BKBN_WSP_default_error-rule_results_2
exit

wsm-rule "UR5_BKBN_WSP_default_response-rule"
  type response-rule
  input-filter none
  output-filter none
  no non-xml-processing 
  no unprocessed 
  action UR5_BKBN_WSP_default_response-rule_xform_1
  action UR5_BKBN_WSP_default_response-rule_xform_2
  action UR5_BKBN_WSP_default_response-rule_xform_21
  action UR5_BKBN_WSP_default_response-rule_results_1
exit

wsm-rule "UR5_BKBN_WSP_PDP_request-rule"
  type request-rule
  input-filter none
  output-filter none
  no non-xml-processing 
  no unprocessed 
  action UR5_BKBN_WSP_PDP_request-rule_xform_9
  action UR5_BKBN_WSP_PDP_request-rule_xform_10
  action UR5_BKBN_WSP_PDP_request-rule_results_3
exit

wsm-rule "UR5_BKBN_WSP_STS_request-rule"
  type request-rule
  input-filter none
  output-filter none
  no non-xml-processing 
  no unprocessed 
  action UR5_BKBN_WSP_STS_request-rule_xform_8
  action UR5_BKBN_WSP_STS_request-rule_results_2
exit

%endif%

%if% available "metadata"

metadata "ftp-usercert-metadata"
  meta-item "variable" "dn" "var://context/INPUT/ftp/tls/client-subject-dn"
  meta-item "variable" "issuer" "var://context/INPUT/ftp/tls/client-issuer-dn"
  meta-item "variable" "serial" "var://context/INPUT/ftp/tls/client-serial-number"
exit

metadata "ftp-username-metadata"
  meta-item "variable" "dn" "var://context/INPUT/ftp/tls/client-subject-dn"
  meta-item "variable" "issuer" "var://context/INPUT/ftp/tls/client-issuer-dn"
  meta-item "variable" "password" "var://context/INPUT/ftp/password"
  meta-item "variable" "serial" "var://context/INPUT/ftp/tls/client-serial-number"
  meta-item "variable" "username" "var://context/INPUT/ftp/username"
exit

metadata "oauth-scope-metadata"
  meta-item "variable" "scope" "var://context/INPUT/oauth/verified-scope"
exit

metadata "ssh-password-metadata"
  meta-item "variable" "password" "var://context/INPUT/ssh/password"
  meta-item "variable" "publickey" "var://context/INPUT/ssh/publickey"
  meta-item "variable" "username" "var://context/INPUT/ssh/username"
exit

%endif%

xmlmgr "default"
xsl cache size "default" "256"
xsl checksummed cache default
no tx-warn "default"
memoization "default"

xml parser limits "default"
 bytes-scanned 4194304
 element-depth 512
 attribute-count 128
 max-node-size 33554432
 forbid-external-references 
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "default"
 no policy
 maxdocs "5000"
 size "0"
 max-writes "32768"
exit
no xml validate "default" *

xml-manager "default"
  summary "Default XML-Manager"
  user-agent "default"
exit

xmlmgr "default-attempt-stream"
xslconfig "default-attempt-stream" "default-attempt-stream"
xsl cache size "default-attempt-stream" "256"
xsl checksummed cache default-attempt-stream
no tx-warn "default-attempt-stream"
memoization "default-attempt-stream"

xml parser limits "default-attempt-stream"
 bytes-scanned 268435456
 element-depth 512
 attribute-count 128
 max-node-size 268435456
 forbid-external-references 
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "default-attempt-stream"
 no policy
 maxdocs "5000"
 size "0"
 max-writes "32768"
exit
no xml validate "default-attempt-stream" *

xml-manager "default-attempt-stream"
  summary "Default Streaming XML-Manager"
  user-agent "default"
exit

xmlmgr "default-wsrr"
xsl cache size "default-wsrr" "256"
xsl checksummed cache default-wsrr
no tx-warn "default-wsrr"
memoization "default-wsrr"

xml parser limits "default-wsrr"
 bytes-scanned 4194304
 element-depth 512
 attribute-count 128
 max-node-size 33554432
 forbid-external-references 
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "default-wsrr"
 no policy
 maxdocs "5000"
 size "0"
 max-writes "32768"
exit
no xml validate "default-wsrr" *

xml-manager "default-wsrr"
  summary "WSRR XML-Manager"
  user-agent "default"
exit

xmlmgr "Initialization_Pattern_XmlMgr"
xsl cache size "Initialization_Pattern_XmlMgr" "256"
xsl checksummed cache Initialization_Pattern_XmlMgr
no tx-warn "Initialization_Pattern_XmlMgr"
memoization "Initialization_Pattern_XmlMgr"

xml parser limits "Initialization_Pattern_XmlMgr"
 bytes-scanned 4194304
 element-depth 512
 attribute-count 128
 max-node-size 33554432
 forbid-external-references 
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "Initialization_Pattern_XmlMgr"
 no policy
 maxdocs "5000"
 size "100000"
 max-writes "32768"
 policy "local:///_admin_/WSRRCache/*.xml" "128" 31708800 "" off off off off off
exit
no xml validate "Initialization_Pattern_XmlMgr" *

xml-manager "Initialization_Pattern_XmlMgr"
  schedule-rule "Initialization_Pattern_Scheduled_rule" 
  user-agent "default"
exit

xmlmgr "ServiceXMLManager"
xsl cache size "ServiceXMLManager" "1024"
xsl checksummed cache ServiceXMLManager
no tx-warn "ServiceXMLManager"
memoization "ServiceXMLManager"

xml parser limits "ServiceXMLManager"
 bytes-scanned 51200000
 element-depth 512
 attribute-count 128
 max-node-size 51200000
 forbid-external-references 
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "ServiceXMLManager"
 no policy
 maxdocs "5000"
 size "200000000"
 max-writes "32768"
 policy "*.xml" "128" 360000 "" on on off off on
 policy "*/WSRR/8.5/Metadata/*" "128" 360000 "" on on on off on
 policy "*/WSRRCache/*.xml" "129" 360000 "" off off off off off
 policy "*/backbone/UR*/PDP" "128" 900 "" on on off off on
 policy "*/backbone/UR*/STS" "128" 900 "" on on off off on
exit
no xml validate "ServiceXMLManager" *

xml-manager "ServiceXMLManager"
  summary "For All Policy Driven services"
  loadbalancer-group "SUBSCRIBERS_AD_GRP"
  user-agent "default"
exit

%if% available "aaapolicy"

aaapolicy "AD_SAML_AAA_Policy"
 extract-identity  "client-ssl+saml-authen-name+custom" "local:///Framework/AAA/AaaCommonSaveProperties.xsl" "" "" "" "login" "off" "" "off" "" "xmlfile" "" "" "" "" "" "proxy" "" "" "" ""
 authenticate custom "local:///Framework/AAA/AaaAdSamlAuthentication.xsl" "" "" "" "absolute" "3" "" "" "" "" "" "on" "" "" "1.1" "cn=" "" "" "" "" "" "" "" "" "" "" "" "userPassword" "LTPA2" "" "" "" "" "" "off" "" "1.2" "off" "" "off" "32" "off" "32" "off" "off" "" "" "" "" "0" "off" "60" "proxy" "" "" "" "webagent" "" "" "" "default"
 map-credentials none "" "" ""
 extract-resource  "request-opname" "" ""
 map-resource none "" "" "WebSEAL" "" ""
 authorize custom "local:///Framework/AAA/AaaAdSamlAuthorization.xsl" "" "" "" "" "" "any" "" "" "absolute" "3" "" "" "" "1.1" "" "" "" "member" "" "" "subtree" "(objectClass=*)" "2.0" "deny-biased" "on" "" "" "custom" "" "" "" "off" "" "T" "" "off" "" "r" "" "0" "tfim" "" "off" "on" "off" "off" "60" "proxy" "" "" "webagent" "" "" "" "default"
 post-process  "off" "" "off" "XS" "" "off" "" "" "" "off" "on" "0" "off" "2.0" "off" "" "" "off" "Digest" "0" "0" "on" "off" "LTPA2" "600" "" "" "" "off" "http://docs.oasis-open.org/wss/oasis-wss-kerberos-token-profile-1.1#GSS_Kerberosv5_AP_REQ" "off" "" "off" "" "off" "" "off" "1000" "off" "all" "CallTFIM" "hmac-sha1" "sha1" "off" "random" "" "0" "off" "off" "off" "off" "" "off" "assertion" "" "wssec-replace" "authentication+attribute" "bearer" "on" "" "" "" "off" "off" "off" "" "0" "AllHTTP" "" "on" "off" "iv-creds" "0" "off" "" "off" "mc-output" "" "" "" "" "as-is-string" "" "" "proxy" "" "" "off" ""
  saml-sign-hash sha1
  saml-sign-alg rsa
  log-allowed 
  log-allowed-level info
  log-rejected 
  log-rejected-level warn
  no ping-identity-compatibility 
  dos-valve 3
  ldap-version v2
  enforce-actor-role 
  dyn-config none
exit

aaapolicy "AD_SSL_AAA_Policy"
 extract-identity  "client-ssl+custom" "local:///Framework/AAA/AaaCommonSaveProperties.xsl" "" "" "" "login" "off" "" "off" "" "xmlfile" "" "" "" "" "" "proxy" "" "" "" ""
 authenticate custom "local:///Framework/AAA/AaaAdSslAuthentication.xsl" "" "" "" "disabled" "3" "" "" "" "" "" "on" "" "" "1.1" "cn=" "" "" "" "" "" "" "" "" "" "" "" "userPassword" "LTPA2" "" "" "" "" "" "off" "" "1.2" "off" "" "off" "32" "off" "32" "off" "off" "" "" "" "" "0" "off" "60" "proxy" "" "" "" "webagent" "" "" "" "default"
 map-credentials none "" "" ""
 extract-resource  "request-opname" "" ""
 map-resource none "" "" "WebSEAL" "" ""
 authorize custom "local:///Framework/AAA/AaaAdSslAuthorization.xsl" "" "" "" "" "" "any" "" "" "absolute" "3" "" "" "" "1.1" "" "" "" "member" "" "" "subtree" "(objectClass=*)" "2.0" "deny-biased" "on" "" "" "custom" "" "" "" "off" "" "T" "" "off" "" "r" "" "0" "tfim" "" "off" "on" "off" "off" "60" "proxy" "" "" "webagent" "" "" "" "default"
 post-process  "off" "" "off" "XS" "" "off" "" "" "" "off" "on" "0" "off" "2.0" "off" "" "" "off" "Digest" "0" "0" "on" "off" "LTPA2" "600" "" "" "" "off" "http://docs.oasis-open.org/wss/oasis-wss-kerberos-token-profile-1.1#GSS_Kerberosv5_AP_REQ" "off" "" "off" "" "off" "" "off" "1000" "off" "all" "CallTFIM" "hmac-sha1" "sha1" "off" "random" "" "0" "off" "off" "off" "off" "" "off" "assertion" "" "wssec-replace" "authentication+attribute" "bearer" "on" "" "" "" "off" "off" "off" "" "0" "AllHTTP" "" "on" "off" "iv-creds" "0" "off" "" "off" "mc-output" "" "" "" "" "as-is-string" "" "" "proxy" "" "" "off" ""
  saml-sign-hash sha1
  saml-sign-alg rsa
  log-allowed 
  log-allowed-level info
  log-rejected 
  log-rejected-level warn
  no ping-identity-compatibility 
  dos-valve 3
  ldap-version v2
  enforce-actor-role 
  dyn-config none
exit

aaapolicy "CONSUMER_SYSTEM_AAA_Policy"
 extract-identity  "client-ssl+saml-authen-name+custom" "local:///Framework/AAA/AaaCommonSaveProperties.xsl" "" "" "" "login" "off" "" "off" "" "xmlfile" "" "" "" "" "" "proxy" "" "" "" ""
 authenticate custom "local:///Framework/AAA/AaaConsumerSystemAuthentication.xsl" "" "" "" "disabled" "3" "" "" "" "" "" "on" "" "" "1.1" "cn=" "" "" "" "" "" "" "" "" "" "" "" "userPassword" "LTPA2" "" "" "" "" "" "off" "" "1.2" "off" "" "off" "32" "off" "32" "off" "off" "" "" "" "" "0" "off" "60" "proxy" "" "" "" "webagent" "" "" "" "default"
 map-credentials none "" "" ""
 extract-resource  "request-opname" "" ""
 map-resource none "" "" "WebSEAL" "" ""
 authorize custom "local:///Framework/AAA/AaaConsumerSystemAuthorization.xsl" "" "" "" "" "" "any" "" "" "disabled" "3" "" "" "" "1.1" "" "" "" "member" "" "" "subtree" "(objectClass=*)" "2.0" "deny-biased" "on" "" "" "custom" "" "" "" "off" "" "T" "" "off" "" "r" "" "0" "tfim" "" "off" "on" "off" "off" "60" "proxy" "" "" "webagent" "" "" "" "default"
 post-process  "off" "" "off" "XS" "" "off" "" "" "" "off" "on" "0" "off" "2.0" "off" "" "" "off" "Digest" "0" "0" "on" "off" "LTPA2" "600" "" "" "" "off" "http://docs.oasis-open.org/wss/oasis-wss-kerberos-token-profile-1.1#GSS_Kerberosv5_AP_REQ" "off" "" "off" "" "off" "" "off" "1000" "off" "all" "CallTFIM" "hmac-sha1" "sha1" "off" "random" "" "0" "off" "off" "off" "off" "" "off" "assertion" "" "wssec-new" "authentication+attribute" "bearer" "on" "" "" "" "off" "off" "off" "" "0" "AllHTTP" "" "on" "off" "HTTP_IV_CREDS" "0" "off" "" "off" "mc-output" "" "" "" "" "as-is-string" "" "" "proxy" "" "" "off" ""
  saml-sign-hash sha1
  saml-sign-alg rsa
  log-allowed 
  log-allowed-level info
  log-rejected 
  log-rejected-level warn
  no ping-identity-compatibility 
  dos-valve 1
  ldap-version v2
  enforce-actor-role 
  dyn-config none
exit

aaapolicy "PDP_AAA_Policy"
  summary "Policy for trusted partner"
 extract-identity  "client-ssl+custom" "local:///Framework/AAA/AaaCommonSaveProperties.xsl" "" "" "" "login" "off" "" "off" "" "xmlfile" "" "" "" "" "" "proxy" "" "" "" ""
 authenticate custom "local:///Framework/AAA/AaaPdpAuthentication.xsl" "" "" "" "disabled" "3" "" "" "" "" "" "on" "" "" "1.1" "cn=" "" "" "" "" "" "" "" "" "" "" "" "userPassword" "LTPA2" "" "" "" "" "" "off" "" "1.2" "off" "" "off" "32" "off" "32" "off" "off" "" "" "" "" "0" "off" "60" "proxy" "" "" "" "webagent" "" "" "" "default"
 map-credentials none "" "" ""
 extract-resource  "request-opname" "" ""
 map-resource none "" "" "WebSEAL" "" ""
 authorize custom "local:///Framework/AAA/AaaPdpAuthorization.xsl" "" "" "" "" "" "any" "" "" "disabled" "3" "" "" "" "1.1" "" "" "" "member" "" "" "subtree" "(objectClass=*)" "2.0" "deny-biased" "on" "" "" "custom" "" "" "" "off" "" "T" "" "off" "" "r" "" "0" "tfim" "" "off" "on" "off" "off" "60" "proxy" "" "" "webagent" "" "" "" "default"
 post-process  "off" "" "off" "XS" "" "off" "" "" "" "off" "on" "0" "off" "2.0" "off" "" "" "off" "Digest" "0" "0" "on" "off" "LTPA2" "600" "" "" "" "off" "http://docs.oasis-open.org/wss/oasis-wss-kerberos-token-profile-1.1#GSS_Kerberosv5_AP_REQ" "off" "" "off" "" "off" "" "off" "1000" "off" "all" "CallTFIM" "hmac-sha1" "sha1" "off" "random" "" "0" "off" "off" "off" "off" "" "off" "assertion" "" "wssec-replace" "authentication+attribute" "bearer" "on" "" "" "" "off" "off" "off" "" "0" "AllHTTP" "" "on" "off" "iv-creds" "0" "off" "" "off" "mc-output" "" "" "" "" "as-is-string" "" "" "proxy" "" "" "off" ""
  saml-sign-hash sha1
  saml-sign-alg rsa
  log-allowed 
  log-allowed-level debug
  log-rejected 
  log-rejected-level debug
  no ping-identity-compatibility 
  dos-valve 3
  ldap-version v2
  enforce-actor-role 
  dyn-config none
exit

aaapolicy "STS_PDP_AAA_Policy"
 extract-identity  "client-ssl+saml-authen-name+custom" "local:///Framework/AAA/AaaCommonSaveProperties.xsl" "" "" "" "login" "off" "" "off" "" "xmlfile" "" "" "" "" "" "proxy" "" "" "" ""
 authenticate custom "local:///Framework/AAA/AaaStsPdpAuthentication.xsl" "" "" "" "disabled" "3" "" "" "" "" "" "on" "" "" "1.1" "cn=" "" "" "" "" "" "" "" "" "" "" "" "userPassword" "LTPA2" "" "" "" "" "" "off" "" "1.2" "off" "" "off" "32" "off" "32" "off" "off" "" "" "" "" "0" "off" "60" "proxy" "" "" "" "webagent" "" "" "" "default"
 map-credentials none "" "" ""
 extract-resource  "request-opname" "" ""
 map-resource none "" "" "WebSEAL" "" ""
 authorize custom "local:///Framework/AAA/AaaStsPdpAuthorization.xsl" "" "" "" "" "" "any" "" "" "disabled" "3" "" "" "" "1.1" "" "" "" "member" "" "" "subtree" "(objectClass=*)" "2.0" "deny-biased" "on" "" "" "custom" "" "" "" "off" "" "T" "" "off" "" "r" "" "0" "tfim" "" "off" "on" "off" "off" "60" "proxy" "" "" "webagent" "" "" "" "default"
 post-process  "off" "" "off" "XS" "" "off" "" "" "" "off" "on" "0" "off" "2.0" "off" "" "" "off" "Digest" "0" "0" "on" "off" "LTPA2" "600" "" "" "" "off" "http://docs.oasis-open.org/wss/oasis-wss-kerberos-token-profile-1.1#GSS_Kerberosv5_AP_REQ" "off" "" "off" "" "off" "" "off" "1000" "off" "all" "CallTFIM" "hmac-sha1" "sha1" "off" "random" "" "0" "off" "off" "off" "off" "" "off" "assertion" "" "wssec-replace" "authentication+attribute" "bearer" "on" "" "" "" "off" "off" "off" "" "0" "AllHTTP" "" "on" "off" "iv-creds" "0" "off" "" "off" "mc-output" "" "" "" "" "as-is-string" "" "" "proxy" "" "" "off" ""
  saml-sign-hash sha1
  saml-sign-alg rsa
  log-allowed 
  log-allowed-level debug
  log-rejected 
  log-rejected-level debug
  no ping-identity-compatibility 
  dos-valve 3
  ldap-version v2
  enforce-actor-role 
  dyn-config none
exit

aaapolicy "TWO_PDP_AAA_Policy"
 extract-identity  "client-ssl+custom" "local:///Framework/AAA/AaaCommonSaveProperties.xsl" "" "" "" "login" "off" "" "off" "" "xmlfile" "" "" "" "" "" "proxy" "" "" "" ""
 authenticate token "" "" "" "" "absolute" "3" "" "" "" "" "" "on" "" "" "1.1" "cn=" "" "" "" "" "" "" "" "" "" "" "" "userPassword" "LTPA2" "" "" "" "" "" "off" "" "1.2" "off" "" "off" "32" "off" "32" "off" "off" "" "" "" "" "0" "off" "60" "proxy" "" "" "" "webagent" "" "" "" "default"
 map-credentials none "" "" ""
 extract-resource  "request-opname" "" ""
 map-resource none "" "" "WebSEAL" "" ""
 authorize custom "local:///Framework/AAA/AaaTwoPdpAuthorization.xsl" "" "" "" "" "" "any" "" "" "disabled" "3" "" "" "" "1.1" "" "" "" "member" "" "" "subtree" "(objectClass=*)" "2.0" "deny-biased" "on" "" "" "custom" "" "" "" "off" "" "T" "" "off" "" "r" "" "0" "tfim" "" "off" "on" "off" "off" "60" "proxy" "" "" "webagent" "" "" "" "default"
 post-process  "off" "" "off" "XS" "" "off" "" "" "" "off" "on" "0" "off" "2.0" "off" "" "" "off" "Digest" "0" "0" "on" "off" "LTPA2" "600" "" "" "" "off" "http://docs.oasis-open.org/wss/oasis-wss-kerberos-token-profile-1.1#GSS_Kerberosv5_AP_REQ" "off" "" "off" "" "off" "" "off" "1000" "off" "all" "CallTFIM" "hmac-sha1" "sha1" "off" "random" "" "0" "off" "off" "off" "off" "" "off" "assertion" "" "wssec-replace" "authentication+attribute" "bearer" "on" "" "" "" "off" "off" "off" "" "0" "AllHTTP" "" "on" "off" "iv-creds" "0" "off" "" "off" "mc-output" "" "" "" "" "as-is-string" "" "" "proxy" "" "" "off" ""
  saml-sign-hash sha1
  saml-sign-alg rsa
  log-allowed 
  log-allowed-level info
  log-rejected 
  log-rejected-level warn
  no ping-identity-compatibility 
  dos-valve 3
  ldap-version v2
  enforce-actor-role 
  dyn-config none
exit

%endif%

%if% available "source-https"

source-https "MUTUAL_HTTPS_FSH"
  summary "two way SSL https frontside handler"
  local-address HIAL_GATEWAY
  port 7180
  http-client-version HTTP/1.1
  allowed-features "HTTP-1.0+HTTP-1.1+POST+GET+PUT+QueryString+FragmentIdentifiers" 
  persistent-connections 
  max-persistent-reuse 0
  no compression 
  no websocket-upgrade 
  websocket-idle-timeout 0
  max-url-len 16384
  max-total-header-len 128000
  max-header-count 0
  max-header-name-len 0
  max-header-value-len 0
  max-querystring-len 0
  credential-charset protocol
  ssl Mutual_SSL_ProxyProfile
  ssl-config-type proxy
  http2-max-streams 100
  http2-max-frame 16384
  no http2-stream-header 
exit

source-https "ONEWAY_HTTPS_FSH"
  local-address HIAL_GATEWAY
  port 7380
  http-client-version HTTP/1.1
  allowed-features "HTTP-1.0+HTTP-1.1+POST+GET+PUT+QueryString+FragmentIdentifiers" 
  persistent-connections 
  max-persistent-reuse 0
  no compression 
  no websocket-upgrade 
  websocket-idle-timeout 0
  max-url-len 16384
  max-total-header-len 128000
  max-header-count 0
  max-header-name-len 0
  max-header-value-len 0
  max-querystring-len 0
  credential-charset protocol
  ssl OneWay_SSL_ProxyProfile
  ssl-config-type proxy
  http2-max-streams 100
  http2-max-frame 16384
  no http2-stream-header 
exit

%endif%

%if% available "source-http"

source-http "GTWY_HTTP_FSH"
  summary "http front side handler for hial gateway"
  local-address HIAL_GATEWAY
  port 7102
  http-client-version HTTP/1.1
  allowed-features "HTTP-1.0+HTTP-1.1+POST+PUT+QueryString+FragmentIdentifiers" 
  persistent-connections 
  max-persistent-reuse 0
  no compression 
  no websocket-upgrade 
  websocket-idle-timeout 0
  max-url-len 16384
  max-total-header-len 128000
  max-header-count 0
  max-header-name-len 0
  max-header-value-len 0
  max-querystring-len 0
  credential-charset protocol
  http2-max-streams 100
  http2-max-frame 16384
  no http2-stream-header 
exit

source-http "IF_BKBN_WSP_FSH"
  summary "Internal interface between GTWY WSP and BKBN WSP"
  local-address HIAL_GATEWAY
  port 10100
  http-client-version HTTP/1.1
  allowed-features "HTTP-1.0+HTTP-1.1+POST+GET+PUT+HEAD+QueryString+FragmentIdentifiers" 
  persistent-connections 
  max-persistent-reuse 0
  no compression 
  no websocket-upgrade 
  websocket-idle-timeout 0
  max-url-len 16384
  max-total-header-len 128000
  max-header-count 0
  max-header-name-len 0
  max-header-value-len 0
  max-querystring-len 0
  credential-charset protocol
  http2-max-streams 100
  http2-max-frame 16384
  no http2-stream-header 
exit

source-http "Initialization_Pattern_Fsh"
  local-address HIAL_GATEWAY
  port 8009
  http-client-version HTTP/1.1
  allowed-features "HTTP-1.0+HTTP-1.1+POST+GET+PUT+QueryString+FragmentIdentifiers" 
  persistent-connections 
  max-persistent-reuse 0
  no compression 
  no websocket-upgrade 
  websocket-idle-timeout 0
  max-url-len 16384
  max-total-header-len 128000
  max-header-count 0
  max-header-name-len 0
  max-header-value-len 0
  max-querystring-len 0
  credential-charset protocol
  http2-max-streams 100
  http2-max-frame 16384
  no http2-stream-header 
exit

%endif%

%if% available "wsrr-server"

wsrr-server "WSRR_Server"
  soap-url "http://10.69.5.165:9080/WSRRCoreSDO/services/WSRRCoreSDOPort"
  username "wasadmin"
  password "wasadmin"
  server-version WSRR_8.0.0.2
  ssl-client-type proxy
exit

%endif%

%if% available "wsrr-subscription"

wsrr-subscription "CDRDataOut_WSP_REPOSITORY_WSP_WSDL_SUBSCRIPTION"
  server WSRR_Server
  namespace "urn:hl7-org:v3"
  object-type wsdl
  object-name "CGTA_AR000001CG.wsdl"
  method manual
  refresh-interval 86400
  auto-renew-interval 1
  no use-version 
  version "1.0"
  no fetch-policy-attachments 
exit

wsrr-subscription "PCR_LEGACY_WSP_WSDL_SUBSCRIPTION"
  server WSRR_Server
  namespace "urn:bean.initiate.com"
  object-type wsdl
  object-name "IdentityHub.Gtwy.wsdl"
  method manual
  refresh-interval 86400
  auto-renew-interval 1
  use-version 
  version "1.0"
  no fetch-policy-attachments 
exit

%endif%

%if% available "wsm-endpointrewrite"

wsm-endpointrewrite "CDRDataOut_WSP"
  subscription-listener-rule "CDRDataOut_WSP_REPOSITORY_WSP_WSDL_SUBSCRIPTION" "default" "0.0.0.0" "0" "" "MUTUAL_HTTPS_FSH" "on" "default" ""
  subscription-backend-rule
    subscription CDRDataOut_WSP_REPOSITORY_WSP_WSDL_SUBSCRIPTION
    remote-endpoint-protocol default
    remote-endpoint-port 0
  exit
exit

wsm-endpointrewrite "PCR_LEGACY_WSP"
  subscription-listener-rule "PCR_LEGACY_WSP_WSDL_SUBSCRIPTION" "default" "0.0.0.0" "0" "" "ONEWAY_HTTPS_FSH" "on" "default" ""
  subscription-listener-rule "PCR_LEGACY_WSP_WSDL_SUBSCRIPTION" "default" "0.0.0.0" "0" "" "GTWY_HTTP_FSH" "on" "default" "0"
  subscription-listener-rule "PCR_LEGACY_WSP_WSDL_SUBSCRIPTION" "default" "0.0.0.0" "0" "" "MUTUAL_HTTPS_FSH" "on" "default" "1"
  subscription-backend-rule
    subscription PCR_LEGACY_WSP_WSDL_SUBSCRIPTION
    remote-endpoint-protocol default
    remote-endpoint-port 0
  exit
exit

wsm-endpointrewrite "UR5_BKBN_WSP"
  listener-rule "^{http://sts.ur.idm.ehealth.gov.on.ca/}SecurityTokenServicePort$" "default" "0.0.0.0" "0" "/backbone/UR5/STS" "IF_BKBN_WSP_FSH" "on" "soap-11" ""
  listener-rule "^{http://security.bea.com/ssmws/ssm-ws-1.0.wsdl}XACMLAuthorization$" "default" "0.0.0.0" "0" "/backbone/UR5/PDP" "IF_BKBN_WSP_FSH" "on" "soap-11" ""
  backend-rule
    service-port-match ^{http://sts.ur.idm.ehealth.gov.on.ca/}SecurityTokenServicePort$
    remote-endpoint-protocol http
    remote-endpoint-hostname 10.69.0.101
    remote-endpoint-port 7003
    remote-endpoint-uri "/SecurityTokenService/sts"
  exit
  backend-rule
    service-port-match ^{http://security.bea.com/ssmws/ssm-ws-1.0.wsdl}XACMLAuthorization$
    remote-endpoint-protocol http
    remote-endpoint-hostname 10.69.0.101
    remote-endpoint-port 9000
    remote-endpoint-uri "/Ssmws/XACMLAuthorization"
  exit
exit

%endif%

%if% available "wsm-stylepolicy"

wsm-stylepolicy "Common_Processing_Policy"
  filter "store:///filter-reject-all.xsl"
  xsldefault "store:///identity.xsl"
  match "fragmentid" "" "Common_Gateway_Match_All" "Common_Processing_Request_Rule" "" "http://www.datapower.com/fragment-id#dp.all()"
  match "fragmentid" "" "Common_Gateway_Match_All" "Common_Processing_Response_Rule" "" "http://www.datapower.com/fragment-id#dp.all()"
  match "fragmentid" "" "Common_Gateway_Match_All" "Common_Processing_Error_Rule" "" "http://www.datapower.com/fragment-id#dp.all()"
exit

wsm-stylepolicy "default"
  summary "Default Processing Policy"
  filter "store:///filter-reject-all.xsl"
  xsldefault "store:///identity.xsl"
exit

wsm-stylepolicy "UR5_BKBN_WSP"
  filter "store:///filter-reject-all.xsl"
  xsldefault "store:///identity.xsl"
  match "fragmentid" "" "UR5.0_BKBN_WSP_Match_PDP" "UR5_BKBN_WSP_PDP_request-rule" "" "http://www.datapower.com/fragment-id#dp.all()"
  match "fragmentid" "" "UR5.0_BKBN_WSP_Match_STS" "UR5_BKBN_WSP_STS_request-rule" "" "http://www.datapower.com/fragment-id#dp.all()"
  match "fragmentid" "" "UR5_BKBN_WSP_match_all" "UR5_BKBN_WSP_default_response-rule" "" "http://www.datapower.com/fragment-id#dp.all()"
  match "fragmentid" "" "UR5_BKBN_WSP_match_all" "UR5_BKBN_WSP_default_error-rule" "" "http://www.datapower.com/fragment-id#dp.all()"
exit

%endif%

%if% available "smtp-server-connection"

smtp-server-connection "default"
  summary "Default SMTP Server Connection"
  server-host smtp
  server-port 25
  auth plain
  ssl-client-type proxy
exit

%endif%

crypto
  
%if% available "sshdomainclientprofile"

sshdomainclientprofile
  no ciphers
  admin-state enabled
  ciphers CHACHA20-POLY1305_AT_OPENSSH.COM
  ciphers AES128-CTR
  ciphers AES192-CTR
  ciphers AES256-CTR
  ciphers AES128-GCM_AT_OPENSSH.COM
  ciphers AES256-GCM_AT_OPENSSH.COM
  ciphers ARCFOUR256
  ciphers ARCFOUR128
  ciphers AES128-CBC
  ciphers 3DES-CBC
  ciphers BLOWFISH-CBC
  ciphers CAST128-CBC
  ciphers AES192-CBC
  ciphers AES256-CBC
  ciphers ARCFOUR
  ciphers RIJNDAEL-CBC_AT_LYSATOR.LIU.SE
  enable-legacy-kex no
exit

%endif%

exit

crypto
  
%if% available "sshserverprofile"

sshserverprofile
  no ciphers
  admin-state enabled
  ciphers CHACHA20-POLY1305_AT_OPENSSH.COM
  ciphers AES128-CTR
  ciphers AES192-CTR
  ciphers AES256-CTR
  ciphers AES128-GCM_AT_OPENSSH.COM
  ciphers AES256-GCM_AT_OPENSSH.COM
  ciphers ARCFOUR256
  ciphers ARCFOUR128
  ciphers AES128-CBC
  ciphers 3DES-CBC
  ciphers BLOWFISH-CBC
  ciphers CAST128-CBC
  ciphers AES192-CBC
  ciphers AES256-CBC
  ciphers ARCFOUR
  ciphers RIJNDAEL-CBC_AT_LYSATOR.LIU.SE
  enable-legacy-kex no
  send-preauth-msg no
exit

%endif%

exit

%if% available "policy-attachments"

policy-attachments "CDRDataOut_WSP_CDRDataOut_WSP_REPOSITORY_WSP_WSDL_SUBSCRIPTION"
  enforcement-mode enforce
  policy-references 
  sla-enforcement-mode allow-if-no-sla
exit

policy-attachments "Initialization_Pattern_MPG"
  enforcement-mode enforce
  policy-references 
  sla-enforcement-mode allow-if-no-sla
exit

policy-attachments "PCR_LEGACY_WSP_PCR_LEGACY_WSP_WSDL_SUBSCRIPTION"
  enforcement-mode enforce
  policy-references 
  sla-enforcement-mode allow-if-no-sla
exit

policy-attachments "UR5.0_BKBN_WSP_SecurityTokenService.wsdl"
  enforcement-mode enforce
  policy-references 
  sla-enforcement-mode allow-if-no-sla
exit

policy-attachments "UR5_BKBN_WSP_xacml.wsdl"
  enforcement-mode enforce
  policy-references 
  sla-enforcement-mode allow-if-no-sla
exit

%endif%

%if% available "mpgw"

mpgw "Initialization_Pattern_MPG"
  no policy-parameters
  summary "V1.0"
  priority normal
  front-protocol Initialization_Pattern_Fsh
  xml-manager Initialization_Pattern_XmlMgr
  ssl-client-type proxy
  default-param-namespace "http://www.datapower.com/param/config"
  query-param-namespace "http://www.datapower.com/param/query"
  propagate-uri 
  monitor-processing-policy terminate-at-first-throttle
  request-attachments strip
  response-attachments strip
  no request-attachments-flow-control 
  no response-attachments-flow-control 
  root-part-not-first-action process-in-order
  front-attachment-format dynamic
  back-attachment-format dynamic
  mime-front-headers 
  mime-back-headers 
  stream-output-to-back buffer-until-verification
  stream-output-to-front buffer-until-verification
  max-message-size 0
  no gateway-parser-limits 
  element-depth 512
  attribute-count 128
  max-node-size 33554432
  forbid-external-references 
  external-references forbid
  max-prefixes 1024
  max-namespaces 1024
  max-local-names 60000
  attachment-byte-count 2000000000
  attachment-package-byte-count 0
  debugger-type internal
  debug-history 25
  no flowcontrol 
  soap-schema-url "store:///schemas/soap-envelope.xsd"
  front-timeout 120
  back-timeout 120
  front-persistent-timeout 180
  back-persistent-timeout 180
  no include-content-type-encoding 
  http-server-version HTTP/1.1
  persistent-connections 
  no loop-detection 
  host-rewriting 
  no chunked-uploads 
  process-http-errors 
  http-client-ip-label "X-Client-IP"
  http-global-tranID-label "X-Global-Transaction-ID"
  inorder-mode "" 
  wsa-mode sync2sync
  wsa-require-aaa 
  wsa-strip-headers 
  wsa-default-replyto "http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous"
  wsa-default-faultto "http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous"
  no wsa-force 
  wsa-genstyle sync
  wsa-http-async-response-code 204
  wsa-timeout 120
  no wsrm 
  wsrm-sequence-expiration 3600
  wsrm-destination-accept-create-sequence 
  wsrm-destination-maximum-sequences 400
  no wsrm-destination-inorder 
  wsrm-destination-maximum-inorder-queue-length 10
  no wsrm-destination-accept-offers 
  no wsrm-request-force 
  no wsrm-response-force 
  no wsrm-source-request-create-sequence 
  no wsrm-source-response-create-sequence 
  no wsrm-source-make-offer 
  no wsrm-source-sequence-ssl 
  wsrm-source-maximum-sequences 400
  wsrm-source-retransmission-interval 10
  wsrm-source-exponential-backoff 
  wsrm-source-retransmit-count 4
  wsrm-source-maximum-queue-length 30
  wsrm-source-request-ack-count 1
  wsrm-source-inactivity-close-interval 360
  force-policy-exec 
  rewrite-errors 
  delay-errors 
  delay-errors-duration 1000
  request-type xml
  response-type xml
  follow-redirects 
  no rewrite-location-header 
  stylepolicy Initialization_Pattern
  type dynamic-backend
  no compression 
  no allow-cache-control 
  policy-attachments Initialization_Pattern_MPG
  no wsmagent-monitor 
  wsmagent-monitor-capture-mode all-messages
  no proxy-http-response 
  transaction-timeout 0
exit

%endif%

%if% available "wsgw"

wsgw "CDRDataOut_WSP"
  no policy-parameters
  priority normal
  xml-manager ServiceXMLManager
  ssl-client-type proxy
  default-param-namespace "http://www.datapower.com/param/config"
  query-param-namespace "http://www.datapower.com/param/query"
  no propagate-uri 
  monitor-processing-policy terminate-at-first-throttle
  request-attachments strip
  response-attachments strip
  no request-attachments-flow-control 
  no response-attachments-flow-control 
  root-part-not-first-action process-in-order
  front-attachment-format dynamic
  back-attachment-format dynamic
  mime-front-headers 
  mime-back-headers 
  stream-output-to-back buffer-until-verification
  stream-output-to-front buffer-until-verification
  max-message-size 0
  no gateway-parser-limits 
  element-depth 512
  attribute-count 128
  max-node-size 33554432
  forbid-external-references 
  external-references forbid
  max-prefixes 1024
  max-namespaces 1024
  max-local-names 60000
  attachment-byte-count 2000000000
  attachment-package-byte-count 0
  debugger-type internal
  debug-history 25
  no flowcontrol 
  soap-schema-url "store:///schemas/soap-envelope.xsd"
  front-timeout 120
  back-timeout 130
  front-persistent-timeout 180
  back-persistent-timeout 180
  no include-content-type-encoding 
  http-server-version HTTP/1.1
  persistent-connections 
  no loop-detection 
  host-rewriting 
  no chunked-uploads 
  process-http-errors 
  http-client-ip-label "X-Client-IP"
  http-global-tranID-label "X-Global-Transaction-ID"
  inorder-mode "" 
  wsa-mode sync2sync
  wsa-require-aaa 
  wsa-strip-headers 
  wsa-default-replyto "http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous"
  wsa-default-faultto "http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous"
  no wsa-force 
  wsa-genstyle sync
  wsa-http-async-response-code 204
  wsa-timeout 120
  no wsrm 
  wsrm-sequence-expiration 3600
  wsrm-destination-accept-create-sequence 
  wsrm-destination-maximum-sequences 400
  no wsrm-destination-inorder 
  wsrm-destination-maximum-inorder-queue-length 10
  no wsrm-destination-accept-offers 
  no wsrm-request-force 
  no wsrm-response-force 
  no wsrm-source-request-create-sequence 
  no wsrm-source-response-create-sequence 
  no wsrm-source-make-offer 
  no wsrm-source-sequence-ssl 
  wsrm-source-maximum-sequences 400
  wsrm-source-retransmission-interval 10
  wsrm-source-exponential-backoff 
  wsrm-source-retransmit-count 4
  wsrm-source-maximum-queue-length 30
  wsrm-source-request-ack-count 1
  wsrm-source-inactivity-close-interval 360
  no force-policy-exec 
  rewrite-errors 
  delay-errors 
  delay-errors-duration 3000
  request-type soap
  response-type soap
  follow-redirects 
  no compression 
  type static-from-wsdl
  no autocreate-sources 
  ssl-config-type proxy
  endpoint-rewrite-policy CDRDataOut_WSP
  stylepolicy Common_Processing_Policy
  remote-retry
    no auto-retry 
    retry-interval 1
    reporting-interval 1
    total-retries 1
  exit
  user-policy "" "" "" "" "" "" "Enable+Publish+VerifyFaults+NoRequestValidation+AllowXOPInclude" "" "on" "urn:hl7-org:v3#dp.wsdlName(CGTA_AR000001CG.wsdl)"
  user-policy "" "" "" "" "" "" "Enable+Publish+VerifyFaults+NoResponseValidation+AllowXOPInclude" "CDRDataOut_WSP_REPOSITORY_WSP_WSDL_SUBSCRIPTION" "on" "urn:hl7-org:v3#dp.wsdlName(3c50773c-5034-44ed.9da7.8a503d8aa7f0)"
  user-policy "" "" "" "" "" "" "Enable+Publish+VerifyFaults+NoRequestValidation+NoResponseValidation+AllowXOPInclude" "CDRDataOut_WSP_REPOSITORY_WSP_WSDL_SUBSCRIPTION" "on" "http://www.datapower.com/fragment-id#dp.all()"
  user-policy "" "" "" "" "" "" "Enable+Publish+VerifyFaults+VerifyHeaders+NoRequestValidation+AllowXOPInclude" "CDRDataOut_WSP_REPOSITORY_WSP_WSDL_SUBSCRIPTION" "on" "urn:hl7-org:v3#wsdl11.service(CGTA_AR000001CG)"
  wssec11-enckey-cache 0
  no preserve-key-chain 
  no decrypt-with-key-from-ed 
  soap-action-policy off
  wsrr-subscription "CDRDataOut_WSP_REPOSITORY_WSP_WSDL_SUBSCRIPTION" "CDRDataOut_WSP_CDRDataOut_WSP_REPOSITORY_WSP_WSDL_SUBSCRIPTION"
  wsmagent-monitor 
  wsmagent-monitor-capture-mode all-messages
  no process-response-rule-for-oneway-wsdls 
exit

wsgw "UR5.0_BKBN_WSP"
  no policy-parameters
  priority normal
  xml-manager default
  ssl-client-type proxy
  suppress "front" "DN"
  default-param-namespace "http://www.datapower.com/param/config"
  query-param-namespace "http://www.datapower.com/param/query"
  no propagate-uri 
  monitor-processing-policy terminate-at-first-throttle
  request-attachments strip
  response-attachments strip
  no request-attachments-flow-control 
  no response-attachments-flow-control 
  root-part-not-first-action process-in-order
  front-attachment-format dynamic
  back-attachment-format dynamic
  mime-front-headers 
  mime-back-headers 
  stream-output-to-back buffer-until-verification
  stream-output-to-front buffer-until-verification
  max-message-size 0
  no gateway-parser-limits 
  element-depth 512
  attribute-count 128
  max-node-size 33554432
  forbid-external-references 
  external-references forbid
  max-prefixes 1024
  max-namespaces 1024
  max-local-names 60000
  attachment-byte-count 2000000000
  attachment-package-byte-count 0
  debugger-type internal
  debug-history 25
  no flowcontrol 
  soap-schema-url "store:///schemas/soap-envelope.xsd"
  front-timeout 30
  back-timeout 30
  front-persistent-timeout 180
  back-persistent-timeout 180
  no include-content-type-encoding 
  http-server-version HTTP/1.1
  persistent-connections 
  no loop-detection 
  host-rewriting 
  no chunked-uploads 
  process-http-errors 
  http-client-ip-label "X-Client-IP"
  http-global-tranID-label "X-Global-Transaction-ID"
  inorder-mode "" 
  wsa-mode sync2sync
  wsa-require-aaa 
  wsa-strip-headers 
  wsa-default-replyto "http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous"
  wsa-default-faultto "http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous"
  no wsa-force 
  wsa-genstyle sync
  wsa-http-async-response-code 204
  wsa-timeout 120
  no wsrm 
  wsrm-sequence-expiration 3600
  wsrm-destination-accept-create-sequence 
  wsrm-destination-maximum-sequences 400
  no wsrm-destination-inorder 
  wsrm-destination-maximum-inorder-queue-length 10
  no wsrm-destination-accept-offers 
  no wsrm-request-force 
  no wsrm-response-force 
  no wsrm-source-request-create-sequence 
  no wsrm-source-response-create-sequence 
  no wsrm-source-make-offer 
  no wsrm-source-sequence-ssl 
  wsrm-source-maximum-sequences 400
  wsrm-source-retransmission-interval 10
  wsrm-source-exponential-backoff 
  wsrm-source-retransmit-count 4
  wsrm-source-maximum-queue-length 30
  wsrm-source-request-ack-count 1
  wsrm-source-inactivity-close-interval 360
  no force-policy-exec 
  rewrite-errors 
  delay-errors 
  delay-errors-duration 1000
  request-type soap
  response-type soap
  follow-redirects 
  no compression 
  type static-from-wsdl
  no autocreate-sources 
  ssl-config-type proxy
  endpoint-rewrite-policy UR5_BKBN_WSP
  stylepolicy UR5_BKBN_WSP
  remote-retry
    no auto-retry 
    retry-interval 1
    reporting-interval 1
    total-retries 5
  exit
  wsdl "local:///UR/v03/Schemas/SecurityTokenService.wsdl" "SecurityTokenService.wsdl" "UR5.0_BKBN_WSP_SecurityTokenService.wsdl"
  wsdl "local:///UR/v03/Schemas/xacml.wsdl" "xacml.wsdl" "UR5_BKBN_WSP_xacml.wsdl"
  user-policy "" "" "" "" "" "" "Enable+Publish+VerifyHeaders+NoRequestValidation+NoResponseValidation" "" "on" "http://sts.ur.idm.ehealth.gov.on.ca/#dp.wsdlName(SecurityTokenService.wsdl)"
  wssec11-enckey-cache 0
  no preserve-key-chain 
  no decrypt-with-key-from-ed 
  soap-action-policy lax
  wsmagent-monitor 
  wsmagent-monitor-capture-mode all-messages
  no process-response-rule-for-oneway-wsdls 
exit

%endif%

%if% available "domain-availability"

domain-availability
  admin-state disabled
exit

%endif%

%if% available "nfs-dynamic-mounts"

nfs-dynamic-mounts
  admin-state disabled
  version 3
  transport tcp
  mount-type hard
  no read-only 
  rsize 4096
  wsize 4096
  timeo 7
  retrans 3
  inactivity-timeout 900
  mount-timeout 30
exit

%endif%

%if% available "xmlfirewall"

xmlfirewall "PASSWORD_ENCRIPTION_XFW"
  local-address "MgtInterface" "8013"
  summary "Utility to encrypt passwords"
  priority normal
  default-param-namespace "http://www.datapower.com/param/config"
  query-param-namespace "http://www.datapower.com/param/query"
  no force-policy-exec 
  monitor-processing-policy terminate-at-first-throttle
  debugger-type internal
  debug-history 25
  remote-address %loopback%
  xml-manager default
  stylesheet-policy PASSWORD_ENCRIPTION_XFW_Policy
  max-message-size 0
  request-type xml
  response-type unprocessed
  request-attachments strip
  response-attachments strip
  root-part-not-first-action process-in-order
  front-attachment-format dynamic
  back-attachment-format dynamic
  mime-headers 
  rewrite-errors
  delay-errors 
  delay-errors-duration 1000
  soap-schema-url "store:///schemas/soap-envelope.xsd"
  wsdl-response-policy off
  no firewall-parser-limits 
  bytes-scanned 4194304
  element-depth 512
  attribute-count 128
  max-node-size 33554432
  forbid-external-references 
  max-prefixes 1024
  max-namespaces 1024
  max-local-names 60000
  attachment-byte-count 2000000000
  attachment-package-byte-count 0
  external-references forbid
  credential-charset protocol
  ssl-config-type proxy
exit

http "PASSWORD_ENCRIPTION_XFW" xmlfirewall
  http-timeout 120
  persistent-timeout 180
  host-rewriting "on"
  no silence-warning 
  no compression 
  no include-response-type-encoding
  no always-show-errors
  no disallow-get
  no disallow-empty-reply
  persistent-connections 
  client-address "X-Client-IP"
  http-global-tranID-label "X-Global-Transaction-ID"
  httpproxy-port 800
  version "HTTP/1.1" "HTTP/1.1"
  no chunked-uploads 
exit

%endif%

%if% available "slm-action"

slm-action "notify"
  type log-only
  log-priority warn
exit

slm-action "shape"
  type shape
  log-priority debug
exit

slm-action "throttle"
  type reject
  log-priority debug
exit

%endif%

no statistics

%if% available "wsm-agent"

wsm-agent
  admin-state disabled
  max-records 3000
  max-memory 64000
  capture-mode faults
  buffer-mode discard
  no mediation-enforcement-metrics 
  max-payload-size 0
  push-interval 100
  push-priority normal
exit

%endif%
